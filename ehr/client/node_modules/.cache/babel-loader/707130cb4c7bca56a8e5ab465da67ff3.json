{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\horne\\\\Documents\\\\SeniorProject\\\\ehr\\\\client\\\\src\\\\pages\\\\PTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useContext, useState, useEffect } from 'react';\nimport '../assets/styles/Table.css';\nimport UserContext from '../context/UserContext';\nimport Axios from 'axios';\nimport Button from 'react-bootstrap/esm/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SelectionTable = () => {\n  _s();\n\n  const {\n    user\n  } = useContext(UserContext);\n  const [patientList, setPatientList] = useState([]);\n  useEffect(() => {\n    getAllUserPatients();\n  }, []);\n\n  const patientSelect = patient_id => {\n    window.location.href = '/dashboard?patientID=' + patient_id;\n  };\n\n  const getAllUserPatients = () => {\n    let user_id = user.id;\n    Axios.get(`http://localhost:3001/patient/getUserPatient/${user_id}`, {\n      headers: {\n        'x-access-token': sessionStorage.getItem(\"accessToken\")\n      }\n    }).then(results => {\n      /* console.log(results) */\n      return results;\n    }).then(results => {\n      /* console.log(results) */\n      let patients = results.data.map(patient => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [patient.first_name, \" \", patient.last_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: patient.medical_record_number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: patient.date_of_birth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              variant: \"warning\",\n              className: \"editPatient\",\n              onClick: () => {\n                patientSelect(patient.patient_id);\n              },\n              children: \"Select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, patient.patient_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this);\n      });\n      /* setPatientList= patients;  */\n\n      setPatientList(patients);\n      console.log(patients);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"patientTable\",\n      class: \"table-wrapper-scroll-y my-custom-scrollbar\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table table-borderless table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              background: '#0065A0',\n              color: 'white',\n              float: 'center',\n              width: '100%',\n              padding: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Patient Record\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Date Of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              colspan: \"2\",\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [patientList, patientList.length > 0 ? \"\" : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"5\",\n              children: \"No Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(SelectionTable, \"tVSBCDTiFRxAoS2X+9yK51vnfC0=\");\n\n_c = SelectionTable;\nexport default SelectionTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectionTable\");","map":{"version":3,"sources":["C:/Users/horne/Documents/SeniorProject/ehr/client/src/pages/PTable.js"],"names":["React","Component","useContext","useState","useEffect","UserContext","Axios","Button","SelectionTable","user","patientList","setPatientList","getAllUserPatients","patientSelect","patient_id","window","location","href","user_id","id","get","headers","sessionStorage","getItem","then","results","patients","data","map","patient","first_name","last_name","medical_record_number","date_of_birth","console","log","catch","error","background","color","float","width","padding","length"],"mappings":"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","sourcesContent":["import React, { Component, useContext, useState, useEffect } from 'react';\r\nimport '../assets/styles/Table.css';\r\nimport UserContext from '../context/UserContext';\r\nimport Axios from 'axios';\r\nimport Button from 'react-bootstrap/esm/Button';\r\n\r\nconst SelectionTable = () =>{\r\n\r\n        const {user} = useContext(UserContext);\r\n        const [patientList , setPatientList]= useState([]); \r\n        \r\n        \r\n        useEffect(() => {\r\n            getAllUserPatients();\r\n          }, []);\r\n\r\n\r\n        const patientSelect = (patient_id) =>{\r\n            window.location.href = '/dashboard?patientID='+patient_id;\r\n        }\r\n\r\n        const getAllUserPatients = () => {\r\n            let user_id = user.id\r\n\r\n            Axios.get(`http://localhost:3001/patient/getUserPatient/${user_id}`,\r\n            {\r\n                headers: {\r\n                    'x-access-token': sessionStorage.getItem(\"accessToken\"),\r\n                },\r\n            })\r\n            .then(results => {\r\n                /* console.log(results) */\r\n                return results;\r\n            })\r\n            .then(results => {\r\n              /* console.log(results) */\r\n              let patients = results.data.map((patient) => {\r\n                return (\r\n                    <tr key={patient.patient_id}>\r\n                        <td>{patient.first_name} {patient.last_name}</td>\r\n                        <td>{patient.medical_record_number}</td>\r\n                        <td>{patient.date_of_birth}</td>\r\n                        <td className=\"text-center\">\r\n                            <Button size=\"sm\" variant=\"warning\" className=\"editPatient\" onClick={ () => { patientSelect(patient.patient_id) } } >\r\n                                     Select\r\n                            </Button> \r\n                        </td>\r\n                    </tr>\r\n                );\r\n              })\r\n              /* setPatientList= patients;  */  \r\n              setPatientList(patients);\r\n              console.log(patients);\r\n            })\r\n            .catch(function(error) {\r\n              console.log(error);\r\n    \r\n            });\r\n        }\r\n \r\n        return (\r\n            \r\n            <>\r\n            {/* patient table */}\r\n                <div id=\"patientTable\" class=\"table-wrapper-scroll-y my-custom-scrollbar\">\r\n                {/*<div style={{float: 'right'}}><td ><button type=\"button\" class=\"btn btn-warning\" >Add New Patient</button></td></div>*/}\r\n\r\n                        <table class=\"table table-borderless table-striped\" >\r\n                            {/* table header */}\r\n                            <thead>\r\n                                <tr style={{background: '#0065A0', color: 'white', float: 'center', width: '100%', padding: '10px'}}>\r\n                                    <th scope=\"col\">Name</th>\r\n                                    <th scope=\"col\">Patient Record</th>\r\n                                    <th scope=\"col\">Date Of Birth</th>\r\n                                    <th scope=\"col\" colspan=\"2\" >Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            {/* start of patient rows */}\r\n                            <tbody>\r\n                                {\r\n                                   patientList\r\n                                }\r\n                                {patientList.length > 0 ? (\"\") :\r\n                                    (\r\n                                    <tr>\r\n                                        <td colSpan=\"5\">\r\n                                        No Patients\r\n                                        </td>\r\n                                    </tr>\r\n                                    )\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                </div>\r\n            </>\r\n        )}   \r\n\r\nexport default SelectionTable;"]},"metadata":{},"sourceType":"module"}