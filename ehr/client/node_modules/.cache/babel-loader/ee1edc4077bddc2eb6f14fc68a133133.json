{"ast":null,"code":"/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function () {\n  \"use strict\";\n\n  var n,\n      t,\n      e,\n      r,\n      o = tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),\n      i = tinymce.util.Tools.resolve(\"tinymce.util.VK\"),\n      u = function (r) {\n    return function (t) {\n      return e = typeof (n = t), (null === n ? \"null\" : \"object\" == e && (Array.prototype.isPrototypeOf(n) || n.constructor && \"Array\" === n.constructor.name) ? \"array\" : \"object\" == e && (String.prototype.isPrototypeOf(n) || n.constructor && \"String\" === n.constructor.name) ? \"string\" : e) === r;\n      var n, e;\n    };\n  },\n      a = function (n) {\n    return function (t) {\n      return typeof t === n;\n    };\n  },\n      l = u(\"string\"),\n      c = u(\"array\"),\n      f = function (t) {\n    return n === t;\n  },\n      s = a(\"boolean\"),\n      m = a(\"function\"),\n      g = function (t) {\n    var n = t.getParam(\"link_assume_external_targets\", !1);\n    return s(n) && n ? 1 : !l(n) || \"http\" !== n && \"https\" !== n ? 0 : n;\n  },\n      p = function (t) {\n    return t.getParam(\"default_link_target\");\n  },\n      d = function (t) {\n    return t.getParam(\"target_list\", !0);\n  },\n      h = function (t) {\n    return t.getParam(\"rel_list\", [], \"array\");\n  },\n      v = function (t) {\n    return t.getParam(\"allow_unsafe_link_target\", !1, \"boolean\");\n  },\n      y = function () {},\n      k = function (t) {\n    return function () {\n      return t;\n    };\n  },\n      x = k(!1),\n      b = k(!(n = null)),\n      O = function () {\n    return w;\n  },\n      w = (t = function (t) {\n    return t.isNone();\n  }, {\n    fold: function (t, n) {\n      return t();\n    },\n    is: x,\n    isSome: x,\n    isNone: b,\n    getOr: r = function (t) {\n      return t;\n    },\n    getOrThunk: e = function (t) {\n      return t();\n    },\n    getOrDie: function (t) {\n      throw new Error(t || \"error: getOrDie called on none.\");\n    },\n    getOrNull: k(null),\n    getOrUndefined: k(undefined),\n    or: r,\n    orThunk: e,\n    map: O,\n    each: y,\n    bind: O,\n    exists: x,\n    forall: b,\n    filter: O,\n    equals: t,\n    equals_: t,\n    toArray: function () {\n      return [];\n    },\n    toString: k(\"none()\")\n  }),\n      C = function (e) {\n    var t = k(e),\n        n = function () {\n      return o;\n    },\n        r = function (t) {\n      return t(e);\n    },\n        o = {\n      fold: function (t, n) {\n        return n(e);\n      },\n      is: function (t) {\n        return e === t;\n      },\n      isSome: b,\n      isNone: x,\n      getOr: t,\n      getOrThunk: t,\n      getOrDie: t,\n      getOrNull: t,\n      getOrUndefined: t,\n      or: n,\n      orThunk: n,\n      map: function (t) {\n        return C(t(e));\n      },\n      each: function (t) {\n        t(e);\n      },\n      bind: r,\n      exists: r,\n      forall: r,\n      filter: function (t) {\n        return t(e) ? o : w;\n      },\n      toArray: function () {\n        return [e];\n      },\n      toString: function () {\n        return \"some(\" + e + \")\";\n      },\n      equals: function (t) {\n        return t.is(e);\n      },\n      equals_: function (t, n) {\n        return t.fold(x, function (t) {\n          return n(e, t);\n        });\n      }\n    };\n\n    return o;\n  },\n      N = {\n    some: C,\n    none: O,\n    from: function (t) {\n      return null === t || t === undefined ? w : C(t);\n    }\n  },\n      A = Array.prototype.indexOf,\n      P = Array.prototype.push,\n      T = function (t, n) {\n    return e = t, r = n, -1 < A.call(e, r);\n    var e, r;\n  },\n      S = function (t) {\n    for (var n = [], e = 0, r = t.length; e < r; ++e) {\n      if (!c(t[e])) throw new Error(\"Arr.flatten item \" + e + \" was not an array, input: \" + t);\n      P.apply(n, t[e]);\n    }\n\n    return n;\n  },\n      _ = function (t, n) {\n    return S(function (t, n) {\n      for (var e = t.length, r = new Array(e), o = 0; o < e; o++) {\n        var i = t[o];\n        r[o] = n(i, o);\n      }\n\n      return r;\n    }(t, n));\n  },\n      R = function (t, n) {\n    for (var e = 0; e < t.length; e++) {\n      var r = n(t[e], e);\n      if (r.isSome()) return r;\n    }\n\n    return N.none();\n  },\n      D = function (t, n) {\n    return t ? N.some(n) : N.none();\n  },\n      L = tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),\n      E = function (t) {\n    return l(t.value) ? t.value : \"\";\n  },\n      M = function (t, i) {\n    var u = [];\n    return L.each(t, function (t) {\n      var n,\n          e,\n          r,\n          o = l((n = t).text) ? n.text : l(n.title) ? n.title : \"\";\n      t.menu !== undefined ? (e = M(t.menu, i), u.push({\n        text: o,\n        items: e\n      })) : (r = i(t), u.push({\n        text: o,\n        value: r\n      }));\n    }), u;\n  },\n      U = function (n) {\n    return void 0 === n && (n = E), function (t) {\n      return N.from(t).map(function (t) {\n        return M(t, n);\n      });\n    };\n  },\n      B = {\n    sanitize: function (t) {\n      return U(E)(t);\n    },\n    sanitizeWith: U,\n    createUi: function (n, e) {\n      return function (t) {\n        return {\n          name: n,\n          type: \"listbox\",\n          label: e,\n          items: t\n        };\n      };\n    },\n    getValue: E\n  },\n      q = function () {\n    return (q = Object.assign || function (t) {\n      for (var n, e = 1, r = arguments.length; e < r; e++) for (var o in n = arguments[e]) Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o]);\n\n      return t;\n    }).apply(this, arguments);\n  },\n      I = Object.keys,\n      K = Object.hasOwnProperty,\n      z = function (t, e, r, o) {\n    return function (t, n) {\n      for (var e = I(t), r = 0, o = e.length; r < o; r++) {\n        var i = e[r];\n        n(t[i], i);\n      }\n    }(t, function (t, n) {\n      (e(t, n) ? r : o)(t, n);\n    }), {};\n  },\n      j = function (t, n) {\n    var e,\n        r = {};\n    return z(t, n, (e = r, function (t, n) {\n      e[n] = t;\n    }), y), r;\n  },\n      V = function (t, n) {\n    return K.call(t, n);\n  },\n      F = tinymce.util.Tools.resolve(\"tinymce.dom.TreeWalker\"),\n      W = function (t) {\n    return t && \"a\" === t.nodeName.toLowerCase();\n  },\n      H = function (t) {\n    return W(t) && !!X(t);\n  },\n      G = function (t, n) {\n    if (t.collapsed) return [];\n\n    for (var e = t.cloneContents(), r = new F(e.firstChild, e), o = [], i = e.firstChild; n(i) && o.push(i), i = r.next(););\n\n    return o;\n  },\n      J = function (t) {\n    return /^\\w+:/i.test(t);\n  },\n      X = function (t) {\n    var n = t.getAttribute(\"data-mce-href\");\n    return n || t.getAttribute(\"href\");\n  },\n      $ = function (t, n) {\n    var e,\n        r,\n        o = [\"noopener\"],\n        i = t ? t.split(/\\s+/) : [],\n        u = function (t) {\n      return t.filter(function (t) {\n        return -1 === L.inArray(o, t);\n      });\n    },\n        a = n ? 0 < (e = u(e = i)).length ? e.concat(o) : o : u(i);\n\n    return 0 < a.length ? (r = a, L.trim(r.sort().join(\" \"))) : \"\";\n  },\n      Q = function (t, n) {\n    return n = n || t.selection.getNode(), nt(n) ? t.dom.select(\"a[href]\", n)[0] : t.dom.getParent(n, \"a[href]\");\n  },\n      Y = function (t, n) {\n    var e = n ? n.innerText || n.textContent : t.getContent({\n      format: \"text\"\n    });\n    return e.replace(/\\uFEFF/g, \"\");\n  },\n      Z = function (t) {\n    return 0 < L.grep(t, H).length;\n  },\n      tt = function (t) {\n    var n = t.schema.getTextInlineElements();\n    return 0 === G(t.selection.getRng(), function (t) {\n      return 1 === t.nodeType && !W(t) && !V(n, t.nodeName.toLowerCase());\n    }).length;\n  },\n      nt = function (t) {\n    return t && \"FIGURE\" === t.nodeName && /\\bimage\\b/i.test(t.className);\n  },\n      et = function (t) {\n    return n = [\"title\", \"rel\", \"class\", \"target\"], e = function (n, e) {\n      return t[e].each(function (t) {\n        n[e] = 0 < t.length ? t : null;\n      }), n;\n    }, r = {\n      href: t.href\n    }, function (t, n) {\n      for (var e = 0, r = t.length; e < r; e++) n(t[e], e);\n    }(n, function (t) {\n      r = e(r, t);\n    }), r;\n    var n, e, r;\n  },\n      rt = function (t, n) {\n    var e,\n        r,\n        o,\n        i = q({}, n);\n    return 0 < h(t).length || !1 !== v(t) || (e = $(i.rel, \"_blank\" === i.target), i.rel = e || null), N.from(i.target).isNone() && !1 === d(t) && (i.target = p(t)), i.href = (r = i.href, \"http\" !== (o = g(t)) && \"https\" !== o || J(r) ? r : o + \"://\" + r), i;\n  },\n      ot = function (l, c, f) {\n    var s = l.selection.getNode(),\n        m = Q(l, s),\n        g = rt(l, et(f));\n    l.undoManager.transact(function () {\n      var n, t, e, r, o, i, u, a;\n      f.href === c.href && c.attach(), m ? (l.focus(), o = l, i = m, u = f.text, a = g, u.each(function (t) {\n        i.hasOwnProperty(\"innerText\") ? i.innerText = t : i.textContent = t;\n      }), o.dom.setAttribs(i, a), o.selection.select(i)) : (n = l, t = s, e = f.text, r = g, nt(t) ? ct(n, t, r) : e.fold(function () {\n        n.execCommand(\"mceInsertLink\", !1, r);\n      }, function (t) {\n        n.insertContent(n.dom.createHTML(\"a\", r, n.dom.encode(t)));\n      }));\n    });\n  },\n      it = function (l) {\n    l.undoManager.transact(function () {\n      var t,\n          n,\n          e,\n          r,\n          o,\n          i,\n          u,\n          a = l.selection.getNode();\n      nt(a) ? lt(l, a) : (n = (t = l).dom, e = t.selection, r = e.getBookmark(), o = e.getRng().cloneRange(), i = n.getParent(o.startContainer, \"a[href]\", t.getBody()), u = n.getParent(o.endContainer, \"a[href]\", t.getBody()), i && o.setStartBefore(i), u && o.setEndAfter(u), e.setRng(o), t.execCommand(\"unlink\"), e.moveToBookmark(r)), l.focus();\n    });\n  },\n      ut = function (t, n, e) {\n    var r, o, i, u, a, l, c;\n    t.hasPlugin(\"rtc\", !0) ? t.execCommand(\"createlink\", !1, (o = (r = e)[\"class\"], i = r.href, u = r.rel, a = r.target, l = r.text, c = r.title, j({\n      \"class\": o.getOrNull(),\n      href: i,\n      rel: u.getOrNull(),\n      target: a.getOrNull(),\n      text: l.getOrNull(),\n      title: c.getOrNull()\n    }, function (t, n) {\n      return !1 === f(t);\n    }))) : ot(t, n, e);\n  },\n      at = function (t) {\n    t.hasPlugin(\"rtc\", !0) ? t.execCommand(\"unlink\") : it(t);\n  },\n      lt = function (t, n) {\n    var e,\n        r = t.dom.select(\"img\", n)[0];\n    !r || (e = t.dom.getParents(r, \"a[href]\", n)[0]) && (e.parentNode.insertBefore(r, e), t.dom.remove(e));\n  },\n      ct = function (t, n, e) {\n    var r,\n        o = t.dom.select(\"img\", n)[0];\n    o && (r = t.dom.create(\"a\", e), o.parentNode.insertBefore(r, o), r.appendChild(o));\n  },\n      ft = function (t) {\n    return V(n = t, e = \"items\") && n[e] !== undefined && null !== n[e];\n    var n, e;\n  },\n      st = function (n, t) {\n    return R(t, function (t) {\n      return ft(t) ? st(n, t.items) : D(t.value === n, t);\n    });\n  },\n      mt = function (n, t, e, r) {\n    var o = r[t],\n        i = 0 < n.length;\n    return o !== undefined ? st(o, e).map(function (t) {\n      return {\n        url: {\n          value: t.value,\n          meta: {\n            text: i ? n : t.text,\n            attach: y\n          }\n        },\n        text: i ? n : t.text\n      };\n    }) : N.none();\n  },\n      gt = function (t, i) {\n    var u = {\n      text: t.text,\n      title: t.title\n    },\n        r = function (t) {\n      var n,\n          e,\n          r = (n = t.url, D(u.text.length <= 0, N.from(n.meta.text).getOr(n.value))),\n          o = (e = t.url, D(u.title.length <= 0, N.from(e.meta.title).getOr(\"\")));\n      return r.isSome() || o.isSome() ? N.some(q(q({}, r.map(function (t) {\n        return {\n          text: t\n        };\n      }).getOr({})), o.map(function (t) {\n        return {\n          title: t\n        };\n      }).getOr({}))) : N.none();\n    },\n        o = function (t, n) {\n      var e,\n          r,\n          o = (e = i, (\"link\" === (r = n.name) ? e.link : \"anchor\" === r ? e.anchor : N.none()).getOr([]));\n      return mt(u.text, n.name, o, t);\n    };\n\n    return {\n      onChange: function (t, n) {\n        var e = n.name;\n        return \"url\" === e ? r(t()) : T([\"anchor\", \"link\"], e) ? o(t(), n) : ((\"text\" === e || \"title\" === e) && (u[e] = t()[e]), N.none());\n      }\n    };\n  },\n      dt = tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),\n      ht = tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),\n      pt = function (t) {\n    var n = t.href;\n    return 0 < n.indexOf(\"@\") && -1 === n.indexOf(\"/\") && -1 === n.indexOf(\"mailto:\") ? N.some({\n      message: \"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\",\n      preprocess: function (t) {\n        return q(q({}, t), {\n          href: \"mailto:\" + n\n        });\n      }\n    }) : N.none();\n  },\n      vt = function (u, a) {\n    return R([pt, (e = g(u), r = u.getParam(\"link_default_protocol\", \"http\", \"string\"), function (t) {\n      var n = t.href;\n      return 1 === e && !J(n) || 0 === e && /^\\s*www(\\.|\\d\\.)/i.test(n) ? N.some({\n        message: \"The URL you entered seems to be an external link. Do you want to add the required \" + r + \":// prefix?\",\n        preprocess: function (t) {\n          return q(q({}, t), {\n            href: r + \"://\" + n\n          });\n        }\n      }) : N.none();\n    })], function (t) {\n      return t(a);\n    }).fold(function () {\n      return ht.resolve(a);\n    }, function (i) {\n      return new ht(function (n) {\n        var e, t, r, o;\n        e = u, t = i.message, r = function (t) {\n          n(t ? i.preprocess(a) : a);\n        }, o = e.selection.getRng(), dt.setEditorTimeout(e, function () {\n          e.windowManager.confirm(t, function (t) {\n            e.selection.setRng(o), r(t);\n          });\n        });\n      });\n    });\n    var e, r;\n  },\n      yt = function (t) {\n    var n = t.dom.select(\"a:not([href])\"),\n        e = _(n, function (t) {\n      var n = t.name || t.id;\n      return n ? [{\n        text: n,\n        value: \"#\" + n\n      }] : [];\n    });\n\n    return 0 < e.length ? N.some([{\n      text: \"None\",\n      value: \"\"\n    }].concat(e)) : N.none();\n  },\n      kt = function (t) {\n    var n = t.getParam(\"link_class_list\", [], \"array\");\n    return 0 < n.length ? B.sanitize(n) : N.none();\n  },\n      xt = tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),\n      bt = function (n) {\n    var e = function (t) {\n      return n.convertURL(t.value || t.url, \"href\");\n    },\n        t = n.getParam(\"link_list\");\n\n    return new ht(function (n) {\n      l(t) ? xt.send({\n        url: t,\n        success: function (t) {\n          return n(function (t) {\n            try {\n              return N.some(JSON.parse(t));\n            } catch (n) {\n              return N.none();\n            }\n          }(t));\n        },\n        error: function (t) {\n          return n(N.none());\n        }\n      }) : m(t) ? t(function (t) {\n        return n(N.some(t));\n      }) : n(N.from(t));\n    }).then(function (t) {\n      return t.bind(B.sanitizeWith(e)).map(function (t) {\n        if (0 < t.length) {\n          return [{\n            text: \"None\",\n            value: \"\"\n          }].concat(t);\n        }\n\n        return t;\n      });\n    });\n  },\n      Ot = function (t, n) {\n    var e = h(t);\n\n    if (0 < e.length) {\n      var r = n.is(\"_blank\");\n      return (!1 === v(t) ? B.sanitizeWith(function (t) {\n        return $(B.getValue(t), r);\n      }) : B.sanitize)(e);\n    }\n\n    return N.none();\n  },\n      wt = [{\n    text: \"Current window\",\n    value: \"\"\n  }, {\n    text: \"New window\",\n    value: \"_blank\"\n  }],\n      Ct = function (t) {\n    var n = d(t);\n    return c(n) ? B.sanitize(n).orThunk(function () {\n      return N.some(wt);\n    }) : !1 === n ? N.none() : N.some(wt);\n  },\n      Nt = function (t, n, e) {\n    var r = t.getAttrib(n, e);\n    return null !== r && 0 < r.length ? N.some(r) : N.none();\n  },\n      At = function (f, s) {\n    return bt(f).then(function (t) {\n      var n,\n          e,\n          r,\n          o,\n          i,\n          u,\n          a,\n          l,\n          c = (e = s, r = (n = f).dom, o = tt(n) ? N.some(Y(n.selection, e)) : N.none(), i = e ? N.some(r.getAttrib(e, \"href\")) : N.none(), u = e ? N.from(r.getAttrib(e, \"target\")) : N.none(), a = Nt(r, e, \"rel\"), l = Nt(r, e, \"class\"), {\n        url: i,\n        text: o,\n        title: Nt(r, e, \"title\"),\n        target: u,\n        rel: a,\n        linkClass: l\n      });\n      return {\n        anchor: c,\n        catalogs: {\n          targets: Ct(f),\n          rels: Ot(f, c.target),\n          classes: kt(f),\n          anchor: yt(f),\n          link: t\n        },\n        optNode: N.from(s),\n        flags: {\n          titleEnabled: f.getParam(\"link_title\", !0, \"boolean\")\n        }\n      };\n    });\n  },\n      Pt = function (h) {\n    var t, n;\n    (n = Q(t = h), At(t, n)).then(function (t) {\n      var i, u, n, e, r, o, a, l, c, f, s, m, g, d;\n      return e = function (t) {\n        var e = t.getData();\n        if (!e.url.value) return at(i), void t.close();\n\n        var n = function (n) {\n          return N.from(e[n]).filter(function (t) {\n            return !u.anchor[n].is(t);\n          });\n        },\n            r = {\n          href: e.url.value,\n          text: n(\"text\"),\n          target: n(\"target\"),\n          rel: n(\"rel\"),\n          \"class\": n(\"linkClass\"),\n          title: n(\"title\")\n        },\n            o = {\n          href: e.url.value,\n          attach: e.url.meta !== undefined && e.url.meta.attach ? e.url.meta.attach : function () {}\n        };\n\n        vt(i, r).then(function (t) {\n          ut(i, o, t);\n        }), t.close();\n      }, r = i = h, c = (n = u = t).anchor.text.map(function () {\n        return {\n          name: \"text\",\n          type: \"input\",\n          label: \"Text to display\"\n        };\n      }).toArray(), f = n.flags.titleEnabled ? [{\n        name: \"title\",\n        type: \"input\",\n        label: \"Title\"\n      }] : [], s = N.from(p(r)), o = s, a = n.anchor, m = {\n        url: {\n          value: l = a.url.getOr(\"\"),\n          meta: {\n            original: {\n              value: l\n            }\n          }\n        },\n        text: a.text.getOr(\"\"),\n        title: a.title.getOr(\"\"),\n        anchor: l,\n        link: l,\n        rel: a.rel.getOr(\"\"),\n        target: a.target.or(o).getOr(\"\"),\n        linkClass: a.linkClass.getOr(\"\")\n      }, g = n.catalogs, d = gt(m, g), {\n        title: \"Insert/Edit Link\",\n        size: \"normal\",\n        body: {\n          type: \"panel\",\n          items: S([[{\n            name: \"url\",\n            type: \"urlinput\",\n            filetype: \"file\",\n            label: \"URL\"\n          }], c, f, function (t) {\n            for (var n = [], e = function (t) {\n              n.push(t);\n            }, r = 0; r < t.length; r++) t[r].each(e);\n\n            return n;\n          }([g.anchor.map(B.createUi(\"anchor\", \"Anchors\")), g.rels.map(B.createUi(\"rel\", \"Rel\")), g.targets.map(B.createUi(\"target\", \"Open link in...\")), g.link.map(B.createUi(\"link\", \"Link list\")), g.classes.map(B.createUi(\"linkClass\", \"Class\"))])])\n        },\n        buttons: [{\n          type: \"cancel\",\n          name: \"cancel\",\n          text: \"Cancel\"\n        }, {\n          type: \"submit\",\n          name: \"save\",\n          text: \"Save\",\n          primary: !0\n        }],\n        initialData: m,\n        onChange: function (n, t) {\n          var e = t.name;\n          d.onChange(n.getData, {\n            name: e\n          }).each(function (t) {\n            n.setData(t);\n          });\n        },\n        onSubmit: e\n      };\n    }).then(function (t) {\n      h.windowManager.open(t);\n    });\n  },\n      Tt = function (t) {\n    var n = document.createElement(\"a\");\n    n.target = \"_blank\", n.href = t, n.rel = \"noreferrer noopener\";\n    var e,\n        r,\n        o = document.createEvent(\"MouseEvents\");\n    o.initMouseEvent(\"click\", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), e = n, r = o, document.body.appendChild(e), e.dispatchEvent(r), document.body.removeChild(e);\n  },\n      St = function (t, n) {\n    return t.dom.getParent(n, \"a[href]\");\n  },\n      _t = function (t) {\n    return St(t, t.selection.getStart());\n  },\n      Rt = function (t, n) {\n    var e, r;\n    n && (e = X(n), /^#/.test(e) ? (r = t.$(e)).length && t.selection.scrollIntoView(r[0], !0) : Tt(n.href));\n  },\n      Dt = function (t) {\n    return function () {\n      Pt(t);\n    };\n  },\n      Lt = function (t) {\n    return function () {\n      Rt(t, _t(t));\n    };\n  },\n      Et = function (r) {\n    r.on(\"click\", function (t) {\n      var n = St(r, t.target);\n      n && i.metaKeyPressed(t) && (t.preventDefault(), Rt(r, n));\n    }), r.on(\"keydown\", function (t) {\n      var n,\n          e = _t(r);\n\n      e && 13 === t.keyCode && !0 === (n = t).altKey && !1 === n.shiftKey && !1 === n.ctrlKey && !1 === n.metaKey && (t.preventDefault(), Rt(r, e));\n    });\n  },\n      Mt = function (t, n) {\n    return t.on(\"NodeChange\", n), function () {\n      return t.off(\"NodeChange\", n);\n    };\n  },\n      Ut = function (n) {\n    return function (t) {\n      return Mt(n, function () {\n        t.setActive(!n.mode.isReadOnly() && null !== Q(n, n.selection.getNode()));\n      });\n    };\n  },\n      Bt = function (e) {\n    return function (t) {\n      var n = function () {\n        return t.setDisabled(null === Q(e, e.selection.getNode()));\n      };\n\n      return n(), Mt(e, n);\n    };\n  },\n      qt = function (r) {\n    return function (n) {\n      var e = function (t) {\n        return Z(t) || (n = r.selection.getRng(), 0 < G(n, H).length);\n        var n;\n      },\n          t = r.dom.getParents(r.selection.getStart());\n\n      return n.setDisabled(!e(t)), Mt(r, function (t) {\n        return n.setDisabled(!e(t.parents));\n      });\n    };\n  };\n\n  o.add(\"link\", function (t) {\n    var n, e, r, i, o, u, a;\n    (n = t).ui.registry.addToggleButton(\"link\", {\n      icon: \"link\",\n      tooltip: \"Insert/edit link\",\n      onAction: Dt(n),\n      onSetup: Ut(n)\n    }), n.ui.registry.addButton(\"openlink\", {\n      icon: \"new-tab\",\n      tooltip: \"Open link\",\n      onAction: Lt(n),\n      onSetup: Bt(n)\n    }), n.ui.registry.addButton(\"unlink\", {\n      icon: \"unlink\",\n      tooltip: \"Remove link\",\n      onAction: function () {\n        return at(n);\n      },\n      onSetup: qt(n)\n    }), (e = t).ui.registry.addMenuItem(\"openlink\", {\n      text: \"Open link\",\n      icon: \"new-tab\",\n      onAction: Lt(e),\n      onSetup: Bt(e)\n    }), e.ui.registry.addMenuItem(\"link\", {\n      icon: \"link\",\n      text: \"Link...\",\n      shortcut: \"Meta+K\",\n      onAction: Dt(e)\n    }), e.ui.registry.addMenuItem(\"unlink\", {\n      icon: \"unlink\",\n      text: \"Remove link\",\n      onAction: function () {\n        return at(e);\n      },\n      onSetup: qt(e)\n    }), (r = t).ui.registry.addContextMenu(\"link\", {\n      update: function (t) {\n        return Z(r.dom.getParents(t, \"a\")) ? \"link unlink openlink\" : \"link\";\n      }\n    }), o = function (t) {\n      var n = i.selection.getNode();\n      return t.setDisabled(!Q(i, n)), function () {};\n    }, (i = t).ui.registry.addContextForm(\"quicklink\", {\n      launch: {\n        type: \"contextformtogglebutton\",\n        icon: \"link\",\n        tooltip: \"Link\",\n        onSetup: Ut(i)\n      },\n      label: \"Link\",\n      predicate: function (t) {\n        return !!Q(i, t) && i.getParam(\"link_context_toolbar\", !1, \"boolean\");\n      },\n      initValue: function () {\n        var t = Q(i);\n        return t ? X(t) : \"\";\n      },\n      commands: [{\n        type: \"contextformtogglebutton\",\n        icon: \"link\",\n        tooltip: \"Link\",\n        primary: !0,\n        onSetup: function (t) {\n          var n = i.selection.getNode();\n          return t.setActive(!!Q(i, n)), Ut(i)(t);\n        },\n        onAction: function (t) {\n          var n,\n              e,\n              r = Q(i),\n              o = t.getValue();\n          r ? i.undoManager.transact(function () {\n            i.dom.setAttrib(r, \"href\", o), i.selection.collapse(!1), t.hide();\n          }) : (n = {\n            href: o,\n            attach: function () {}\n          }, e = tt(i) ? N.some(Y(i.selection, r)).filter(function (t) {\n            return 0 < t.length;\n          }).or(N.from(o)) : N.none(), ut(i, n, {\n            href: o,\n            text: e,\n            title: N.none(),\n            rel: N.none(),\n            target: N.none(),\n            \"class\": N.none()\n          }), t.hide());\n        }\n      }, {\n        type: \"contextformbutton\",\n        icon: \"unlink\",\n        tooltip: \"Remove link\",\n        onSetup: o,\n        onAction: function (t) {\n          at(i), t.hide();\n        }\n      }, {\n        type: \"contextformbutton\",\n        icon: \"new-tab\",\n        tooltip: \"Open link\",\n        onSetup: o,\n        onAction: function (t) {\n          Lt(i)(), t.hide();\n        }\n      }]\n    }), Et(t), (u = t).addCommand(\"mceLink\", function () {\n      u.getParam(\"link_quicklink\", !1, \"boolean\") ? u.fire(\"contexttoolbar-show\", {\n        toolbarKey: \"quicklink\"\n      }) : Dt(u)();\n    }), (a = t).addShortcut(\"Meta+K\", \"\", function () {\n      a.execCommand(\"mceLink\");\n    });\n  });\n}();","map":{"version":3,"sources":["C:/Users/horne/Documents/SeniorProject/ehr/client/node_modules/tinymce/plugins/link/plugin.min.js"],"names":["n","t","e","r","o","tinymce","util","Tools","resolve","i","u","Array","prototype","isPrototypeOf","constructor","name","String","a","l","c","f","s","m","g","getParam","p","d","h","v","y","k","x","b","O","w","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","C","N","some","none","from","A","indexOf","P","push","T","call","S","length","apply","_","R","D","L","E","value","M","text","title","menu","items","U","B","sanitize","sanitizeWith","createUi","type","label","getValue","q","Object","assign","arguments","hasOwnProperty","I","keys","K","z","j","V","F","W","nodeName","toLowerCase","H","X","G","collapsed","cloneContents","firstChild","next","J","test","getAttribute","$","split","inArray","concat","trim","sort","join","Q","selection","getNode","nt","dom","select","getParent","Y","innerText","textContent","getContent","format","replace","Z","grep","tt","schema","getTextInlineElements","getRng","nodeType","className","et","href","rt","rel","target","ot","undoManager","transact","attach","focus","setAttribs","ct","execCommand","insertContent","createHTML","encode","it","lt","getBookmark","cloneRange","startContainer","getBody","endContainer","setStartBefore","setEndAfter","setRng","moveToBookmark","ut","hasPlugin","at","getParents","parentNode","insertBefore","remove","create","appendChild","ft","st","mt","url","meta","gt","link","anchor","onChange","dt","ht","pt","message","preprocess","vt","setEditorTimeout","windowManager","confirm","yt","id","kt","xt","bt","convertURL","send","success","JSON","parse","error","then","Ot","wt","Ct","Nt","getAttrib","At","linkClass","catalogs","targets","rels","classes","optNode","flags","titleEnabled","Pt","getData","close","original","size","body","filetype","buttons","primary","initialData","setData","onSubmit","open","Tt","document","createElement","createEvent","initMouseEvent","window","dispatchEvent","removeChild","St","_t","getStart","Rt","scrollIntoView","Dt","Lt","Et","on","metaKeyPressed","preventDefault","keyCode","altKey","shiftKey","ctrlKey","metaKey","Mt","off","Ut","setActive","mode","isReadOnly","Bt","setDisabled","qt","parents","add","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","addButton","addMenuItem","shortcut","addContextMenu","update","addContextForm","launch","predicate","initValue","commands","setAttrib","collapse","hide","addCommand","fire","toolbarKey","addShortcut"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var n,t,e,r,o=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),i=tinymce.util.Tools.resolve(\"tinymce.util.VK\"),u=function(r){return function(t){return e=typeof(n=t),(null===n?\"null\":\"object\"==e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&\"Array\"===n.constructor.name)?\"array\":\"object\"==e&&(String.prototype.isPrototypeOf(n)||n.constructor&&\"String\"===n.constructor.name)?\"string\":e)===r;var n,e}},a=function(n){return function(t){return typeof t===n}},l=u(\"string\"),c=u(\"array\"),f=function(t){return n===t},s=a(\"boolean\"),m=a(\"function\"),g=function(t){var n=t.getParam(\"link_assume_external_targets\",!1);return s(n)&&n?1:!l(n)||\"http\"!==n&&\"https\"!==n?0:n},p=function(t){return t.getParam(\"default_link_target\")},d=function(t){return t.getParam(\"target_list\",!0)},h=function(t){return t.getParam(\"rel_list\",[],\"array\")},v=function(t){return t.getParam(\"allow_unsafe_link_target\",!1,\"boolean\")},y=function(){},k=function(t){return function(){return t}},x=k(!1),b=k(!(n=null)),O=function(){return w},w=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:x,isSome:x,isNone:b,getOr:r=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:k(null),getOrUndefined:k(undefined),or:r,orThunk:e,map:O,each:y,bind:O,exists:x,forall:b,filter:O,equals:t,equals_:t,toArray:function(){return[]},toString:k(\"none()\")}),C=function(e){var t=k(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:b,isNone:x,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:w},toArray:function(){return[e]},toString:function(){return\"some(\"+e+\")\"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(x,function(t){return n(e,t)})}};return o},N={some:C,none:O,from:function(t){return null===t||t===undefined?w:C(t)}},A=Array.prototype.indexOf,P=Array.prototype.push,T=function(t,n){return e=t,r=n,-1<A.call(e,r);var e,r},S=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!c(t[e]))throw new Error(\"Arr.flatten item \"+e+\" was not an array, input: \"+t);P.apply(n,t[e])}return n},_=function(t,n){return S(function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r}(t,n))},R=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return N.none()},D=function(t,n){return t?N.some(n):N.none()},L=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),E=function(t){return l(t.value)?t.value:\"\"},M=function(t,i){var u=[];return L.each(t,function(t){var n,e,r,o=l((n=t).text)?n.text:l(n.title)?n.title:\"\";t.menu!==undefined?(e=M(t.menu,i),u.push({text:o,items:e})):(r=i(t),u.push({text:o,value:r}))}),u},U=function(n){return void 0===n&&(n=E),function(t){return N.from(t).map(function(t){return M(t,n)})}},B={sanitize:function(t){return U(E)(t)},sanitizeWith:U,createUi:function(n,e){return function(t){return{name:n,type:\"listbox\",label:e,items:t}}},getValue:E},q=function(){return(q=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},I=Object.keys,K=Object.hasOwnProperty,z=function(t,e,r,o){return function(t,n){for(var e=I(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}}(t,function(t,n){(e(t,n)?r:o)(t,n)}),{}},j=function(t,n){var e,r={};return z(t,n,(e=r,function(t,n){e[n]=t}),y),r},V=function(t,n){return K.call(t,n)},F=tinymce.util.Tools.resolve(\"tinymce.dom.TreeWalker\"),W=function(t){return t&&\"a\"===t.nodeName.toLowerCase()},H=function(t){return W(t)&&!!X(t)},G=function(t,n){if(t.collapsed)return[];for(var e=t.cloneContents(),r=new F(e.firstChild,e),o=[],i=e.firstChild;n(i)&&o.push(i),i=r.next(););return o},J=function(t){return/^\\w+:/i.test(t)},X=function(t){var n=t.getAttribute(\"data-mce-href\");return n||t.getAttribute(\"href\")},$=function(t,n){var e,r,o=[\"noopener\"],i=t?t.split(/\\s+/):[],u=function(t){return t.filter(function(t){return-1===L.inArray(o,t)})},a=n?0<(e=u(e=i)).length?e.concat(o):o:u(i);return 0<a.length?(r=a,L.trim(r.sort().join(\" \"))):\"\"},Q=function(t,n){return n=n||t.selection.getNode(),nt(n)?t.dom.select(\"a[href]\",n)[0]:t.dom.getParent(n,\"a[href]\")},Y=function(t,n){var e=n?n.innerText||n.textContent:t.getContent({format:\"text\"});return e.replace(/\\uFEFF/g,\"\")},Z=function(t){return 0<L.grep(t,H).length},tt=function(t){var n=t.schema.getTextInlineElements();return 0===G(t.selection.getRng(),function(t){return 1===t.nodeType&&!W(t)&&!V(n,t.nodeName.toLowerCase())}).length},nt=function(t){return t&&\"FIGURE\"===t.nodeName&&/\\bimage\\b/i.test(t.className)},et=function(t){return n=[\"title\",\"rel\",\"class\",\"target\"],e=function(n,e){return t[e].each(function(t){n[e]=0<t.length?t:null}),n},r={href:t.href},function(t,n){for(var e=0,r=t.length;e<r;e++)n(t[e],e)}(n,function(t){r=e(r,t)}),r;var n,e,r},rt=function(t,n){var e,r,o,i=q({},n);return 0<h(t).length||!1!==v(t)||(e=$(i.rel,\"_blank\"===i.target),i.rel=e||null),N.from(i.target).isNone()&&!1===d(t)&&(i.target=p(t)),i.href=(r=i.href,\"http\"!==(o=g(t))&&\"https\"!==o||J(r)?r:o+\"://\"+r),i},ot=function(l,c,f){var s=l.selection.getNode(),m=Q(l,s),g=rt(l,et(f));l.undoManager.transact(function(){var n,t,e,r,o,i,u,a;f.href===c.href&&c.attach(),m?(l.focus(),o=l,i=m,u=f.text,a=g,u.each(function(t){i.hasOwnProperty(\"innerText\")?i.innerText=t:i.textContent=t}),o.dom.setAttribs(i,a),o.selection.select(i)):(n=l,t=s,e=f.text,r=g,nt(t)?ct(n,t,r):e.fold(function(){n.execCommand(\"mceInsertLink\",!1,r)},function(t){n.insertContent(n.dom.createHTML(\"a\",r,n.dom.encode(t)))}))})},it=function(l){l.undoManager.transact(function(){var t,n,e,r,o,i,u,a=l.selection.getNode();nt(a)?lt(l,a):(n=(t=l).dom,e=t.selection,r=e.getBookmark(),o=e.getRng().cloneRange(),i=n.getParent(o.startContainer,\"a[href]\",t.getBody()),u=n.getParent(o.endContainer,\"a[href]\",t.getBody()),i&&o.setStartBefore(i),u&&o.setEndAfter(u),e.setRng(o),t.execCommand(\"unlink\"),e.moveToBookmark(r)),l.focus()})},ut=function(t,n,e){var r,o,i,u,a,l,c;t.hasPlugin(\"rtc\",!0)?t.execCommand(\"createlink\",!1,(o=(r=e)[\"class\"],i=r.href,u=r.rel,a=r.target,l=r.text,c=r.title,j({\"class\":o.getOrNull(),href:i,rel:u.getOrNull(),target:a.getOrNull(),text:l.getOrNull(),title:c.getOrNull()},function(t,n){return!1===f(t)}))):ot(t,n,e)},at=function(t){t.hasPlugin(\"rtc\",!0)?t.execCommand(\"unlink\"):it(t)},lt=function(t,n){var e,r=t.dom.select(\"img\",n)[0];!r||(e=t.dom.getParents(r,\"a[href]\",n)[0])&&(e.parentNode.insertBefore(r,e),t.dom.remove(e))},ct=function(t,n,e){var r,o=t.dom.select(\"img\",n)[0];o&&(r=t.dom.create(\"a\",e),o.parentNode.insertBefore(r,o),r.appendChild(o))},ft=function(t){return V(n=t,e=\"items\")&&n[e]!==undefined&&null!==n[e];var n,e},st=function(n,t){return R(t,function(t){return ft(t)?st(n,t.items):D(t.value===n,t)})},mt=function(n,t,e,r){var o=r[t],i=0<n.length;return o!==undefined?st(o,e).map(function(t){return{url:{value:t.value,meta:{text:i?n:t.text,attach:y}},text:i?n:t.text}}):N.none()},gt=function(t,i){var u={text:t.text,title:t.title},r=function(t){var n,e,r=(n=t.url,D(u.text.length<=0,N.from(n.meta.text).getOr(n.value))),o=(e=t.url,D(u.title.length<=0,N.from(e.meta.title).getOr(\"\")));return r.isSome()||o.isSome()?N.some(q(q({},r.map(function(t){return{text:t}}).getOr({})),o.map(function(t){return{title:t}}).getOr({}))):N.none()},o=function(t,n){var e,r,o=(e=i,(\"link\"===(r=n.name)?e.link:\"anchor\"===r?e.anchor:N.none()).getOr([]));return mt(u.text,n.name,o,t)};return{onChange:function(t,n){var e=n.name;return\"url\"===e?r(t()):T([\"anchor\",\"link\"],e)?o(t(),n):((\"text\"===e||\"title\"===e)&&(u[e]=t()[e]),N.none())}}},dt=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),ht=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),pt=function(t){var n=t.href;return 0<n.indexOf(\"@\")&&-1===n.indexOf(\"/\")&&-1===n.indexOf(\"mailto:\")?N.some({message:\"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\",preprocess:function(t){return q(q({},t),{href:\"mailto:\"+n})}}):N.none()},vt=function(u,a){return R([pt,(e=g(u),r=u.getParam(\"link_default_protocol\",\"http\",\"string\"),function(t){var n=t.href;return 1===e&&!J(n)||0===e&&/^\\s*www(\\.|\\d\\.)/i.test(n)?N.some({message:\"The URL you entered seems to be an external link. Do you want to add the required \"+r+\":// prefix?\",preprocess:function(t){return q(q({},t),{href:r+\"://\"+n})}}):N.none()})],function(t){return t(a)}).fold(function(){return ht.resolve(a)},function(i){return new ht(function(n){var e,t,r,o;e=u,t=i.message,r=function(t){n(t?i.preprocess(a):a)},o=e.selection.getRng(),dt.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(o),r(t)})})})});var e,r},yt=function(t){var n=t.dom.select(\"a:not([href])\"),e=_(n,function(t){var n=t.name||t.id;return n?[{text:n,value:\"#\"+n}]:[]});return 0<e.length?N.some([{text:\"None\",value:\"\"}].concat(e)):N.none()},kt=function(t){var n=t.getParam(\"link_class_list\",[],\"array\");return 0<n.length?B.sanitize(n):N.none()},xt=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),bt=function(n){var e=function(t){return n.convertURL(t.value||t.url,\"href\")},t=n.getParam(\"link_list\");return new ht(function(n){l(t)?xt.send({url:t,success:function(t){return n(function(t){try{return N.some(JSON.parse(t))}catch(n){return N.none()}}(t))},error:function(t){return n(N.none())}}):m(t)?t(function(t){return n(N.some(t))}):n(N.from(t))}).then(function(t){return t.bind(B.sanitizeWith(e)).map(function(t){if(0<t.length){return[{text:\"None\",value:\"\"}].concat(t)}return t})})},Ot=function(t,n){var e=h(t);if(0<e.length){var r=n.is(\"_blank\");return(!1===v(t)?B.sanitizeWith(function(t){return $(B.getValue(t),r)}):B.sanitize)(e)}return N.none()},wt=[{text:\"Current window\",value:\"\"},{text:\"New window\",value:\"_blank\"}],Ct=function(t){var n=d(t);return c(n)?B.sanitize(n).orThunk(function(){return N.some(wt)}):!1===n?N.none():N.some(wt)},Nt=function(t,n,e){var r=t.getAttrib(n,e);return null!==r&&0<r.length?N.some(r):N.none()},At=function(f,s){return bt(f).then(function(t){var n,e,r,o,i,u,a,l,c=(e=s,r=(n=f).dom,o=tt(n)?N.some(Y(n.selection,e)):N.none(),i=e?N.some(r.getAttrib(e,\"href\")):N.none(),u=e?N.from(r.getAttrib(e,\"target\")):N.none(),a=Nt(r,e,\"rel\"),l=Nt(r,e,\"class\"),{url:i,text:o,title:Nt(r,e,\"title\"),target:u,rel:a,linkClass:l});return{anchor:c,catalogs:{targets:Ct(f),rels:Ot(f,c.target),classes:kt(f),anchor:yt(f),link:t},optNode:N.from(s),flags:{titleEnabled:f.getParam(\"link_title\",!0,\"boolean\")}}})},Pt=function(h){var t,n;(n=Q(t=h),At(t,n)).then(function(t){var i,u,n,e,r,o,a,l,c,f,s,m,g,d;return e=function(t){var e=t.getData();if(!e.url.value)return at(i),void t.close();var n=function(n){return N.from(e[n]).filter(function(t){return!u.anchor[n].is(t)})},r={href:e.url.value,text:n(\"text\"),target:n(\"target\"),rel:n(\"rel\"),\"class\":n(\"linkClass\"),title:n(\"title\")},o={href:e.url.value,attach:e.url.meta!==undefined&&e.url.meta.attach?e.url.meta.attach:function(){}};vt(i,r).then(function(t){ut(i,o,t)}),t.close()},r=i=h,c=(n=u=t).anchor.text.map(function(){return{name:\"text\",type:\"input\",label:\"Text to display\"}}).toArray(),f=n.flags.titleEnabled?[{name:\"title\",type:\"input\",label:\"Title\"}]:[],s=N.from(p(r)),o=s,a=n.anchor,m={url:{value:l=a.url.getOr(\"\"),meta:{original:{value:l}}},text:a.text.getOr(\"\"),title:a.title.getOr(\"\"),anchor:l,link:l,rel:a.rel.getOr(\"\"),target:a.target.or(o).getOr(\"\"),linkClass:a.linkClass.getOr(\"\")},g=n.catalogs,d=gt(m,g),{title:\"Insert/Edit Link\",size:\"normal\",body:{type:\"panel\",items:S([[{name:\"url\",type:\"urlinput\",filetype:\"file\",label:\"URL\"}],c,f,function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n}([g.anchor.map(B.createUi(\"anchor\",\"Anchors\")),g.rels.map(B.createUi(\"rel\",\"Rel\")),g.targets.map(B.createUi(\"target\",\"Open link in...\")),g.link.map(B.createUi(\"link\",\"Link list\")),g.classes.map(B.createUi(\"linkClass\",\"Class\"))])])},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:m,onChange:function(n,t){var e=t.name;d.onChange(n.getData,{name:e}).each(function(t){n.setData(t)})},onSubmit:e}}).then(function(t){h.windowManager.open(t)})},Tt=function(t){var n=document.createElement(\"a\");n.target=\"_blank\",n.href=t,n.rel=\"noreferrer noopener\";var e,r,o=document.createEvent(\"MouseEvents\");o.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e=n,r=o,document.body.appendChild(e),e.dispatchEvent(r),document.body.removeChild(e)},St=function(t,n){return t.dom.getParent(n,\"a[href]\")},_t=function(t){return St(t,t.selection.getStart())},Rt=function(t,n){var e,r;n&&(e=X(n),/^#/.test(e)?(r=t.$(e)).length&&t.selection.scrollIntoView(r[0],!0):Tt(n.href))},Dt=function(t){return function(){Pt(t)}},Lt=function(t){return function(){Rt(t,_t(t))}},Et=function(r){r.on(\"click\",function(t){var n=St(r,t.target);n&&i.metaKeyPressed(t)&&(t.preventDefault(),Rt(r,n))}),r.on(\"keydown\",function(t){var n,e=_t(r);e&&13===t.keyCode&&(!0===(n=t).altKey&&!1===n.shiftKey&&!1===n.ctrlKey&&!1===n.metaKey)&&(t.preventDefault(),Rt(r,e))})},Mt=function(t,n){return t.on(\"NodeChange\",n),function(){return t.off(\"NodeChange\",n)}},Ut=function(n){return function(t){return Mt(n,function(){t.setActive(!n.mode.isReadOnly()&&null!==Q(n,n.selection.getNode()))})}},Bt=function(e){return function(t){var n=function(){return t.setDisabled(null===Q(e,e.selection.getNode()))};return n(),Mt(e,n)}},qt=function(r){return function(n){var e=function(t){return Z(t)||(n=r.selection.getRng(),0<G(n,H).length);var n},t=r.dom.getParents(r.selection.getStart());return n.setDisabled(!e(t)),Mt(r,function(t){return n.setDisabled(!e(t.parents))})}};o.add(\"link\",function(t){var n,e,r,i,o,u,a;(n=t).ui.registry.addToggleButton(\"link\",{icon:\"link\",tooltip:\"Insert/edit link\",onAction:Dt(n),onSetup:Ut(n)}),n.ui.registry.addButton(\"openlink\",{icon:\"new-tab\",tooltip:\"Open link\",onAction:Lt(n),onSetup:Bt(n)}),n.ui.registry.addButton(\"unlink\",{icon:\"unlink\",tooltip:\"Remove link\",onAction:function(){return at(n)},onSetup:qt(n)}),(e=t).ui.registry.addMenuItem(\"openlink\",{text:\"Open link\",icon:\"new-tab\",onAction:Lt(e),onSetup:Bt(e)}),e.ui.registry.addMenuItem(\"link\",{icon:\"link\",text:\"Link...\",shortcut:\"Meta+K\",onAction:Dt(e)}),e.ui.registry.addMenuItem(\"unlink\",{icon:\"unlink\",text:\"Remove link\",onAction:function(){return at(e)},onSetup:qt(e)}),(r=t).ui.registry.addContextMenu(\"link\",{update:function(t){return Z(r.dom.getParents(t,\"a\"))?\"link unlink openlink\":\"link\"}}),o=function(t){var n=i.selection.getNode();return t.setDisabled(!Q(i,n)),function(){}},(i=t).ui.registry.addContextForm(\"quicklink\",{launch:{type:\"contextformtogglebutton\",icon:\"link\",tooltip:\"Link\",onSetup:Ut(i)},label:\"Link\",predicate:function(t){return!!Q(i,t)&&i.getParam(\"link_context_toolbar\",!1,\"boolean\")},initValue:function(){var t=Q(i);return t?X(t):\"\"},commands:[{type:\"contextformtogglebutton\",icon:\"link\",tooltip:\"Link\",primary:!0,onSetup:function(t){var n=i.selection.getNode();return t.setActive(!!Q(i,n)),Ut(i)(t)},onAction:function(t){var n,e,r=Q(i),o=t.getValue();r?i.undoManager.transact(function(){i.dom.setAttrib(r,\"href\",o),i.selection.collapse(!1),t.hide()}):(n={href:o,attach:function(){}},e=tt(i)?N.some(Y(i.selection,r)).filter(function(t){return 0<t.length}).or(N.from(o)):N.none(),ut(i,n,{href:o,text:e,title:N.none(),rel:N.none(),target:N.none(),\"class\":N.none()}),t.hide())}},{type:\"contextformbutton\",icon:\"unlink\",tooltip:\"Remove link\",onSetup:o,onAction:function(t){at(i),t.hide()}},{type:\"contextformbutton\",icon:\"new-tab\",tooltip:\"Open link\",onSetup:o,onAction:function(t){Lt(i)(),t.hide()}}]}),Et(t),(u=t).addCommand(\"mceLink\",function(){u.getParam(\"link_quicklink\",!1,\"boolean\")?u.fire(\"contexttoolbar-show\",{toolbarKey:\"quicklink\"}):Dt(u)()}),(a=t).addShortcut(\"Meta+K\",\"\",function(){a.execCommand(\"mceLink\")})})}();"]},"metadata":{},"sourceType":"script"}